{"ast":null,"code":"import _objectSpread from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import IconAdd from\"@mui/icons-material/Add\";import IconClose from\"@mui/icons-material/Close\";import{Button,Card}from\"@mui/material\";import Textarea from\"react-textarea-autosize\";import{connect}from\"react-redux\";import{addList,addCard}from\"../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DreveskoActionButton=/*#__PURE__*/function(_React$Component){_inherits(DreveskoActionButton,_React$Component);var _super=_createSuper(DreveskoActionButton);function DreveskoActionButton(){var _this;_classCallCheck(this,DreveskoActionButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formOpen:false,text:\"\",text_opis:\"\"};_this.openForm=function(){_this.setState({formOpen:true});};_this.closeForm=function(e){_this.setState({formOpen:false,text:\"\",text_opis:\"\"});};_this.handleBlur=function(_ref){var currentTarget=_ref.currentTarget,relatedTarget=_ref.relatedTarget;if(currentTarget.contains(relatedTarget))return;_this.closeForm();return;};_this.handleInputChange=function(e){_this.setState({text:e.target.value});};_this.handleInputChangeOpis=function(e){_this.setState({text_opis:e.target.value});};_this.handleAddList=function(){var dispatch=_this.props.dispatch;var text=_this.state.text;if(text){_this.setState({text:\"\"});dispatch(addList(text));}return;};_this.handleAddCard=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,listId=_this$props.listId;var _this$state=_this.state,text=_this$state.text,text_opis=_this$state.text_opis;if(text){_this.setState({text:\"\",text_opis:\"\"});dispatch(addCard(listId,text,text_opis));}return;};_this.renderAddButton=function(){var list=_this.props.list;var buttonText=list?\"Add another list\":\"Add another card\";var buttonTextOpacity=list?1:0.5;var buttonTextColor=list?\"white\":\"inherit\";var buttonTextBackground=list?\"rgba(0,0,0,.15)\":\"inherit\";return/*#__PURE__*/_jsxs(\"div\",{id:\"add\",onClick:_this.openForm,style:_objectSpread(_objectSpread({},styles.buttonContainer),{},{opacity:buttonTextOpacity,color:buttonTextColor,background:buttonTextBackground}),children:[/*#__PURE__*/_jsx(IconAdd,{}),/*#__PURE__*/_jsx(\"p\",{children:buttonText})]});};_this.renderForm=function(){var list=_this.props.list;var placeholder=list?\"Enter list title...\":\"Enter title for this card...\";var buttonTitle=list?\"Add list\":\"Add card\";var opisInput=list?\"none\":\"block\";return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Card,{onBlur:_this.handleBlur,style:{overflow:\"visible\",minHeight:80,minWidth:272,padding:\"6px 8px 2px\"},children:[/*#__PURE__*/_jsx(Textarea,{id:\"title\",placeholder:placeholder,autoFocus:true,value:_this.state.text,onChange:_this.handleInputChange,style:{overflow:\"hidden\",resize:\"none\",width:\"100%\",outline:\"none\",border:\"none\"}}),/*#__PURE__*/_jsx(Textarea,{id:\"opis\",placeholder:\"Vnesi opis...\",autoFocus:true,value:_this.state.text_opis,onChange:_this.handleInputChangeOpis,style:{display:list?'none':'block',overflow:\"hidden\",resize:\"none\",width:\"100%\",outline:\"none\",border:\"none\"}})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formButtonGroup,children:[/*#__PURE__*/_jsx(Button,{onMouseDown:list?_this.handleAddList:_this.handleAddCard,variant:\"contained\",style:{color:\"white\",backgroundColor:\"#5aac44\"},children:buttonTitle}),/*#__PURE__*/_jsx(IconClose,{onMouseDown:_this.closeForm,style:{marginLeft:8,cursor:\"pointer\"}})]})]});};return _this;}_createClass(DreveskoActionButton,[{key:\"render\",value:function render(){return this.state.formOpen?this.renderForm():this.renderAddButton();}}]);return DreveskoActionButton;}(React.Component);var styles={buttonContainer:{display:\"Flex\",alignItems:\"center\",cursor:\"pointer\",borderRadious:3,height:36,width:272,paddingLeft:10,marginLeft:10},formButtonGroup:{marginTop:8,display:\"flex\",alignItems:\"center\"}};export default connect()(DreveskoActionButton);","map":{"version":3,"names":["React","IconAdd","IconClose","Button","Card","Textarea","connect","addList","addCard","jsx","_jsx","jsxs","_jsxs","DreveskoActionButton","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","formOpen","text","text_opis","openForm","setState","closeForm","e","handleBlur","_ref","currentTarget","relatedTarget","contains","handleInputChange","target","value","handleInputChangeOpis","handleAddList","dispatch","props","handleAddCard","_this$props","listId","_this$state","renderAddButton","list","buttonText","buttonTextOpacity","buttonTextColor","buttonTextBackground","id","onClick","style","_objectSpread","styles","buttonContainer","opacity","color","background","children","renderForm","placeholder","buttonTitle","opisInput","onBlur","overflow","minHeight","minWidth","padding","autoFocus","onChange","resize","width","outline","border","display","formButtonGroup","onMouseDown","variant","backgroundColor","marginLeft","cursor","_createClass","key","render","Component","alignItems","borderRadious","height","paddingLeft","marginTop"],"sources":["C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/src/components/DreveskoActionButton.js"],"sourcesContent":["import React from \"react\";\r\nimport IconAdd from \"@mui/icons-material/Add\";\r\nimport IconClose from \"@mui/icons-material/Close\";\r\nimport { Button, Card } from \"@mui/material\";\r\nimport Textarea from \"react-textarea-autosize\"\r\nimport { connect } from \"react-redux\";\r\nimport { addList, addCard } from \"../actions\"\r\n\r\nclass DreveskoActionButton extends React.Component{\r\n\r\n    state = {\r\n        formOpen: false,\r\n        text: \"\",\r\n        text_opis: \"\"\r\n    };\r\n\r\n    openForm = () => {\r\n        this.setState({\r\n            formOpen: true\r\n        });\r\n    };\r\n\r\n    closeForm = e => {\r\n        this.setState({\r\n            formOpen: false,\r\n            text: \"\",\r\n            text_opis: \"\"\r\n        })\r\n    }\r\n\r\n    handleBlur = ({ currentTarget, relatedTarget }) => {\r\n        if (currentTarget.contains(relatedTarget)) return;\r\n        this.closeForm();\r\n        return;\r\n    }\r\n\r\n    handleInputChange = e =>{\r\n        this.setState({\r\n            text: e.target.value\r\n        })\r\n    }\r\n\r\n    handleInputChangeOpis = e =>{\r\n        this.setState({\r\n            text_opis: e.target.value\r\n        })\r\n    }\r\n\r\n\r\n    handleAddList = () => {\r\n        const { dispatch } = this.props;\r\n        const { text } = this.state;\r\n\r\n        if(text) {\r\n            this.setState({\r\n                text: \"\"\r\n            })\r\n            dispatch(addList(text));\r\n        }\r\n        return;\r\n    }\r\n\r\n    handleAddCard = () => {\r\n        const { dispatch, listId } = this.props;\r\n        const { text, text_opis } = this.state;\r\n        \r\n        if(text) {\r\n            this.setState({\r\n                text: \"\",\r\n                text_opis: \"\"\r\n            })\r\n            dispatch(addCard(listId, text, text_opis));\r\n        }\r\n        return;\r\n    }\r\n\r\n    renderAddButton = () => {\r\n        const { list } = this.props;\r\n\r\n        const buttonText = list ? \"Add another list\" : \"Add another card\";\r\n        const buttonTextOpacity = list ? 1 : 0.5;\r\n        const buttonTextColor = list ? \"white\" : \"inherit\";\r\n        const buttonTextBackground = list ? \"rgba(0,0,0,.15)\" : \"inherit\";\r\n\r\n        return(\r\n            <div id=\"add\" onClick={this.openForm}\r\n            style={{\r\n                ...styles.buttonContainer,\r\n                opacity: buttonTextOpacity,\r\n                color: buttonTextColor,\r\n                background: buttonTextBackground\r\n            }}>\r\n                <IconAdd/>\r\n                <p>{buttonText}</p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderForm = () => {\r\n        const { list } = this.props;\r\n        const placeholder = list ? \"Enter list title...\" : \"Enter title for this card...\";\r\n        const buttonTitle = list ? \"Add list\" : \"Add card\";\r\n        const opisInput = list ? \"none\" : \"block\";\r\n\r\n        return (\r\n            <div>\r\n            <Card\r\n                onBlur={this.handleBlur}\r\n                style={{\r\n                    overflow: \"visible\",\r\n                    minHeight: 80,\r\n                    minWidth: 272,\r\n                    padding: \"6px 8px 2px\",\r\n                }}\r\n                >\r\n                <Textarea\r\n                    id=\"title\"\r\n                    placeholder={placeholder}\r\n                    autoFocus\r\n                    \r\n                    value={this.state.text}\r\n                    onChange={this.handleInputChange}\r\n                    style={{\r\n                        overflow: \"hidden\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        outline: \"none\",\r\n                        border: \"none\",\r\n                    }}\r\n                />\r\n\r\n                <Textarea\r\n                    id=\"opis\"\r\n                    placeholder={\"Vnesi opis...\"}\r\n                    autoFocus\r\n                    value={this.state.text_opis}\r\n                    onChange={this.handleInputChangeOpis}\r\n                    style={{\r\n                        display: list ? 'none' : 'block',\r\n                        overflow: \"hidden\",\r\n                        resize: \"none\",\r\n                        width: \"100%\",\r\n                        outline: \"none\",\r\n                        border: \"none\",\r\n                    }}\r\n                />\r\n            </Card>\r\n                <div style={styles.formButtonGroup}>\r\n                    <Button \r\n                        onMouseDown={ list ? this.handleAddList: this.handleAddCard}\r\n                        variant=\"contained\" \r\n                        style={{color: \"white\", backgroundColor: \"#5aac44\"}}>\r\n                    {buttonTitle}</Button>\r\n\r\n                    <IconClose onMouseDown={this.closeForm} style={{marginLeft: 8, cursor: \"pointer\"}} />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        return this.state.formOpen ? this.renderForm() : this.renderAddButton();\r\n    }\r\n\r\n}\r\n\r\nconst styles = {\r\n    buttonContainer: {\r\n        display: \"Flex\",\r\n        alignItems: \"center\",\r\n        cursor: \"pointer\",\r\n        borderRadious: 3,\r\n        height: 36,\r\n        width: 272,\r\n        paddingLeft: 10,\r\n        marginLeft: 10\r\n    },\r\n    formButtonGroup: {\r\n        marginTop: 8,\r\n        display: \"flex\",\r\n        alignItems: \"center\"\r\n    }\r\n}\r\n\r\n\r\nexport default connect() (DreveskoActionButton);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}