{"ast":null,"code":"import _classCallCheck from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import IconEdit from\"@mui/icons-material/Edit\";import{Button,Card,CardContent,Typography}from\"@mui/material\";import Textarea from\"react-textarea-autosize\";import{connect}from\"react-redux\";import{editCard}from\"../actions\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DreveskoEditButton=/*#__PURE__*/function(_React$Component){_inherits(DreveskoEditButton,_React$Component);var _super=_createSuper(DreveskoEditButton);function DreveskoEditButton(){var _this;_classCallCheck(this,DreveskoEditButton);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={formOpen:false,text:_this.props.text,text_opis:_this.props.text_opis};_this.openForm=function(){_this.setState({formOpen:true});};_this.closeForm=function(e){_this.setState({formOpen:false,text:_this.props.text,text_opis:_this.props.text_opis});};_this.handleBlur=function(_ref){var currentTarget=_ref.currentTarget,relatedTarget=_ref.relatedTarget;if(currentTarget.contains(relatedTarget))return;_this.closeForm();return;};_this.handleInputChange=function(e){_this.setState({text:e.target.value});};_this.handleInputChangeOpis=function(e){_this.setState({text_opis:e.target.value});};//editcard\n_this.handleEditCard=function(){var _this$props=_this.props,dispatch=_this$props.dispatch,cardId=_this$props.cardId,listId=_this$props.listId;var _this$state=_this.state,text=_this$state.text,text_opis=_this$state.text_opis;// Only update text if it is truthy\nvar updatedText=text?text:_this.props.text;// Only update text_opis if it is truthy\nvar updatedTextOpis=text_opis?text_opis:_this.props.text_opis;console.log(cardId,updatedText,updatedTextOpis,listId);dispatch(editCard(cardId,updatedText,updatedTextOpis,listId));return;};//editbutton\n_this.renderEditButton=function(){return/*#__PURE__*/_jsx(\"div\",{onClick:_this.openForm,style:{position:\"absolute\",top:6,right:6,cursor:\"pointer\"},children:/*#__PURE__*/_jsx(IconEdit,{})});};_this.renderForm=function(){var _this$props2=_this.props,text=_this$props2.text,text_opis=_this$props2.text_opis;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Card,{onBlur:_this.handleBlur,style:{overflow:\"visible\",minHeight:80,minWidth:272,padding:\"6px 8px 2px\",marginLeft:\"-10px\"},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,children:\"Title:\"}),/*#__PURE__*/_jsx(Textarea,{id:\"title\",placeholder:text,autoFocus:true,value:_this.state.text||text,onChange:_this.handleInputChange,style:{overflow:\"hidden\",resize:\"none\",width:\"100%\",outline:\"none\",border:\"none\"}}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,children:\"Opis:\"}),/*#__PURE__*/_jsx(Textarea,{id:\"opis\",placeholder:text_opis,autoFocus:true,value:_this.state.text_opis||text_opis,onChange:_this.handleInputChangeOpis,style:{overflow:\"hidden\",resize:\"none\",width:\"100%\",outline:\"none\",border:\"none\"}})]})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsx(Button,{onMouseDown:_this.handleEditCard,variant:\"contained\",style:{color:\"white\",backgroundColor:\"#5aac44\"},children:\"Save\"})})]});};return _this;}_createClass(DreveskoEditButton,[{key:\"render\",value:function render(){return this.state.formOpen?this.renderForm():this.renderEditButton();}}]);return DreveskoEditButton;}(React.Component);export default connect()(DreveskoEditButton);","map":{"version":3,"names":["React","IconEdit","Button","Card","CardContent","Typography","Textarea","connect","editCard","jsx","_jsx","jsxs","_jsxs","DreveskoEditButton","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","state","formOpen","text","props","text_opis","openForm","setState","closeForm","e","handleBlur","_ref","currentTarget","relatedTarget","contains","handleInputChange","target","value","handleInputChangeOpis","handleEditCard","_this$props","dispatch","cardId","listId","_this$state","updatedText","updatedTextOpis","console","log","renderEditButton","onClick","style","position","top","right","cursor","children","renderForm","_this$props2","onBlur","overflow","minHeight","minWidth","padding","marginLeft","gutterBottom","id","placeholder","autoFocus","onChange","resize","width","outline","border","marginTop","onMouseDown","variant","color","backgroundColor","_createClass","key","render","Component"],"sources":["C:/Users/Jernej/Documents/GitHub/drevesko/drevesko/src/components/DreveskoEditButton.js"],"sourcesContent":["import React from \"react\";\r\nimport IconEdit from \"@mui/icons-material/Edit\";\r\nimport { Button, Card, CardContent, Typography } from \"@mui/material\";\r\nimport Textarea from \"react-textarea-autosize\";\r\nimport { connect } from \"react-redux\";\r\nimport { editCard } from \"../actions\";\r\n\r\nclass DreveskoEditButton extends React.Component {\r\n  state = {\r\n    formOpen: false,\r\n    text: this.props.text,\r\n    text_opis: this.props.text_opis,\r\n  };\r\n\r\n  openForm = () => {\r\n    this.setState({\r\n      formOpen: true,\r\n    });\r\n  };\r\n\r\n  closeForm = (e) => {\r\n    this.setState({\r\n      formOpen: false,\r\n      text: this.props.text,\r\n      text_opis: this.props.text_opis,\r\n    });\r\n  };\r\n\r\n  handleBlur = ({ currentTarget, relatedTarget }) => {\r\n    if (currentTarget.contains(relatedTarget)) return;\r\n    this.closeForm();\r\n    return;\r\n  };\r\n\r\n  handleInputChange = (e) => {\r\n    this.setState({\r\n      text: e.target.value,\r\n    });\r\n  };\r\n\r\n  handleInputChangeOpis = (e) => {\r\n    this.setState({\r\n      text_opis: e.target.value,\r\n    });\r\n  };\r\n\r\n  //editcard\r\n  handleEditCard = () => {\r\n    const { dispatch, cardId, listId } = this.props;\r\n    const { text, text_opis } = this.state;\r\n\r\n    // Only update text if it is truthy\r\n    const updatedText = text ? text : this.props.text;\r\n\r\n    // Only update text_opis if it is truthy\r\n    const updatedTextOpis = text_opis ? text_opis : this.props.text_opis;\r\n\r\n    console.log(cardId, updatedText, updatedTextOpis, listId);\r\n\r\n    dispatch(editCard(cardId, updatedText, updatedTextOpis, listId));\r\n\r\n    return;\r\n};\r\n\r\n\r\n  //editbutton\r\n  renderEditButton = () => {\r\n    return (\r\n      <div\r\n        onClick={this.openForm}\r\n        style={{\r\n          position: \"absolute\",\r\n          top: 6,\r\n          right: 6,\r\n          cursor: \"pointer\",\r\n          \r\n        }}\r\n      >\r\n        <IconEdit />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  renderForm = () => {\r\n    const { text, text_opis } = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <Card\r\n          onBlur={this.handleBlur}\r\n          style={{\r\n            overflow: \"visible\",\r\n            minHeight: 80,\r\n            minWidth: 272,\r\n            padding: \"6px 8px 2px\",\r\n            marginLeft: \"-10px\"\r\n          }}\r\n        >\r\n          <CardContent>\r\n          <Typography gutterBottom>\r\n              Title:\r\n            </Typography>\r\n            <Textarea\r\n              id=\"title\"\r\n              placeholder={text}\r\n              autoFocus\r\n              value={this.state.text || text}\r\n              onChange={this.handleInputChange}\r\n              style={{\r\n                overflow: \"hidden\",\r\n                resize: \"none\",\r\n                width: \"100%\",\r\n                outline: \"none\",\r\n                border: \"none\",\r\n              }}\r\n            />\r\n\r\n            <Typography gutterBottom>\r\n              Opis:\r\n            </Typography>\r\n            <Textarea\r\n              id=\"opis\"\r\n              placeholder={text_opis}\r\n              autoFocus\r\n              value={this.state.text_opis || text_opis}\r\n              onChange={this.handleInputChangeOpis}\r\n              style={{\r\n                overflow: \"hidden\",\r\n                resize: \"none\",\r\n                width: \"100%\",\r\n                outline: \"none\",\r\n                border: \"none\",\r\n              }}\r\n            />\r\n          </CardContent>\r\n        </Card>\r\n        <div style={{ marginTop: 8 }}>\r\n          <Button\r\n            onMouseDown={this.handleEditCard}\r\n            variant=\"contained\"\r\n            style={{ color: \"white\", backgroundColor: \"#5aac44\" }}\r\n          >\r\n            Save\r\n          </Button>\r\n          \r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    return this.state.formOpen\r\n      ? this.renderForm()\r\n      : this.renderEditButton();\r\n  }\r\n}\r\n\r\nexport default connect() (DreveskoEditButton);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}